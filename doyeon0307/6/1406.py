# 2. ??? https://www.acmicpc.net/problem/1406

# insert, del ; O(N) -> ? O(NM)? ? -> ????
# B, P? O(1)? ???? ??? ? ??
# cursor? ???? ?? / ????? ??
#   cursor? ??? ???? = ?? ?? ? ???? ????
#   cursor? ??? ???? = ?? ?? ? ??? ??? ????
#   cursor? ???? ???? = ?? ?? ? ??? ??? ??? ?? ? ???? ???
#   cursor? ????? ???? = ??? ?? ? ?? ??? ?? ?? ? ????? ???
# deque? ??? ? ??? ???? O(1)? ??, ???? ?

from collections import deque
import sys
input = sys.stdin.readline

class editor:
  def __init__(self, s): # ? ?? ?? ??
    self.lft = deque(s)
    self.rgt = deque([])

  def func(self, cmd, param):
    if cmd == 'L':
      self.L()
    if cmd == 'D':
      self.D()
    if cmd == 'B':
      self.B()
    if cmd == 'P':
      self.P(param)

  def L(self):
    if self.lft:
      tmp = self.lft.pop()
      self.rgt.appendleft(tmp)

  def D(self):
    if self.rgt:
      tmp = self.rgt.popleft()
      self.lft.append(tmp)

  def B(self):
    if self.lft:
      self.lft.pop()      
  
  def P(self, x):
    self.lft.append(x)
  
  def __str__(self): # print(class) ??
    return ''.join(self.lft) + ''.join(self.rgt)

s = input().strip()
m = int(input())

e = editor(s)

for _ in range(m):
  _input = list(input().split())
  cmd = _input[0]
  param = _input[1] if len(_input) > 1 else ''
  e.func(cmd, param)

print(e)